!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("./css/dialog-mobile.css")):"function"==typeof define&&define.amd?define(["./css/dialog-mobile.css"],e):(t=t||self).mcxDialog=e()}(this,(function(){"use strict";function t(t,e){var n=t.className.split(" ");""===t.className&&(n=[]),n.push(e),t.className=n.join(" ")}function e(t,e){for(var n in e)t[n]=e[n];return t}function n(){var t=document.documentElement.clientWidth;return t<640?t/375*16+"px":16}var i={initOpen:function(e,o){e.style.fontSize=n();var l=document.querySelector("body"),c=document.createElement("div");t(c,"dialog-mobile-bg"),1==o.showBottom&&t(c,"animation-bg-fadeIn"),o.bottom&&c.addEventListener("click",(function(){d()})),l.appendChild(c),l.appendChild(e);var a=function(t){for(var e=["animation","webkitAnimation"],n={animation:"animationend",webkitAnimation:"webkitAnimationEnd"},i=0;i<e.length;i++)if(null!=t.style[e[i]])return n[e[i]]}(e);function d(){a?(i.close([c]),t(e,o.closeAnimation),e.addEventListener(a,(function(){i.close([e])}))):i.close([c,e])}o.btns.forEach((function(t,e){0!=e&&e<=o.btns.length-1?o.bottom?t.addEventListener("click",(function(){d(),o.btnClick(this.getAttribute("i"))})):t.addEventListener("click",(function(){d(),o.sureBtnClick()})):t.addEventListener("click",d)})),o.bottom||(e.style.top=(document.documentElement.clientHeight-e.offsetHeight)/2+"px",e.style.left=(document.documentElement.clientWidth-e.offsetWidth)/2+"px")},close:function(t){for(var e=document.querySelector("body"),n=0;n<t.length;n++)e.removeChild(t[n])}},o={alert:function(n,i){var o={titleText:"",sureBtnText:"Confirm"};o=e(o,i);var l=document.createElement("div");l.innerText=o.sureBtnText,l.style.cursor="pointer",t(l,"dialog-button"),o.btns=[l],this.open(n,o)},confirm:function(n,i){var o={titleText:"",cancelBtnText:"Cancel",sureBtnText:"Confirm",sureBtnClick:function(){}};o=e(o,i);var l=document.createElement("div");l.innerText=o.cancelBtnText,l.style.cursor="pointer",t(l,"dialog-cancel-button");var c=document.createElement("div");c.innerText=o.sureBtnText,c.style.cursor="pointer",t(c,"dialog-sure-button"),o.btns=[l,c],this.open(n,o)},open:function(e,n){var o=document.createElement("div"),l=document.createElement("div");if(t(o,"dialog-mobile"),t(o,"animation-zoom-in"),t(l,"dialog-content"),l.innerText=e,n.titleText){var c=document.createElement("div");t(c,"dialog-title"),c.innerText=n.titleText,o.appendChild(c)}o.appendChild(l),n.btns.forEach((function(t,e){o.appendChild(t)})),n.closeAnimation="animation-zoom-out",i.initOpen(o,n)},showBottom:function(n){var o={title:"",cancelText:"Cancel",btn:["Cancel"],btnColor:[],btnClick:function(t){}};(o=e(o,n)).bottom=!0,1==o.btn.length&&"Cancel"==o.btn[0]&&(o.btnColor=["#EE2C2C"]);var l=document.createElement("div"),c=document.createElement("div"),a=document.createElement("div"),d=document.createElement("div");c.innerText=o.title,d.innerText=o.cancelText,t(l,"dialog-mobile-bottom"),t(l,"animation-bottom-in"),t(c,"bottom-btn-title"),t(a,"bottom-btn-item"),t(d,"dialog-cancel-btn"),o.title&&l.appendChild(c),l.appendChild(a),l.appendChild(d),o.btns=[],o.btns.push(d),o.btn.forEach((function(e,n){var i=document.createElement("div");i.innerText=o.btn[n],i.setAttribute("i",n+1),t(i,"dialog-item-btn"),o.btnColor[n]&&(i.style.color=o.btnColor[n]),a.appendChild(i),o.btns.push(i)})),o.closeAnimation="animation-bottom-out",o.showBottom=!0,i.initOpen(l,o)},toast:function(e,i){i=i||3;var o=document.createElement("div"),l=document.createElement("div");t(o,"dialog-mobile-toast"),t(o,"animation-fade-in"),t(l,"toast-content"),l.innerText=e,o.appendChild(l);var c=document.querySelector("body");c.appendChild(o),o.style.fontSize=n(),o.style.left=(document.documentElement.clientWidth-o.offsetWidth)/2+"px",setTimeout((function(){c.removeChild(o)}),1e3*i)},loadElement:[],loading:function(i){var o={src:"img",hint:""};o=e(o,i);var l=document.createElement("div"),c=document.createElement("div"),a=document.createElement("img");if(t(l,"mobile-loading-bg"),t(c,"mobile-loading"),t(c,"animation-zoom-in"),a.src=o.src+"/loading.gif",c.appendChild(a),o.hint){var d=document.createElement("div");t(d,"loading-content"),d.innerText=o.hint,c.appendChild(d)}var m=document.querySelector("body");m.appendChild(l),m.appendChild(c),c.style.fontSize=n(),c.style.left=(document.documentElement.clientWidth-c.offsetWidth)/2+"px",c.style.top=(document.documentElement.clientHeight-c.offsetHeight)/2+"px",this.loadElement.push(l),this.loadElement.push(c)},closeLoading:function(){i.close(this.loadElement),this.loadElement=[]},install:function(t,e){t.prototype.$mcxDialog=o}};return o}));